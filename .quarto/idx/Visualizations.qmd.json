{"title":"Visualizations","markdown":{"yaml":{"title":"Visualizations","format":{"html":{"code-fold":true}},"editor":"visual","author":"Ravina Banze"},"headingText":"Loading libraries","containsRefs":false,"markdown":"\n\n\n```{r, warning=FALSE, message=FALSE}\n\nif(!require(pacman)) install.packages(\"pacman\")\n\npacman::p_load(\n  #Data Handling\n  \"tidyverse\",\n  #Data Source\n  \"gapminder\",\n  #Viz libraries\n  \"ggplot2\", \"gganimate\", \"plotly\", \"hrbrthemes\", \"gifski\"\n  )\n```\n\n### Viz 1\n\nWith @fig-life_gdp we explore `relplot` (relation plot) by using scatter chart to explore how the relationship between `GDP` and `Life Expetancy` has changed over the years.\n\n```{r}\n#| label: fig-life_gdp\n#| fig-cap: Relationship between life expectancy and GDP from the year 1952 to 2007\n#| warning: false\n\n# Make a ggplot, but add frame=year: one image per year\nmyPlot <- ggplot(\n  gapminder, \n  aes(gdpPercap, lifeExp, size = pop, color = continent)\n  ) +\n  geom_point() +\n  scale_x_log10() +\n  theme_bw() +\n  # gganimate specific bits:\n  labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +\n  transition_time(year) +\n  ease_aes('linear')\n\n# Save as gif:\ngganimate::animate(\n  myPlot,\n  duration = 5, \n  fps = 20,\n  width = 600,\n  height = 300,\n  renderer = gifski_renderer()\n  )\nanim_save(\"271-ggplot2-animated-gif-chart-with-gganimate1.gif\")\n```\n\n### Viz 2\n\nWe can also plot using 3 axes (@fig-volcano ) for datasets where all three points (x, y and z) represent only one value.\n\n```{r}\n#| label: fig-volcano\n#| fig-cap: Maunga Whau (Mt Eden) is one of about 50 volcanos in the Auckland volcanic field. This data set gives topographic information for Maunga Whau on a 10m by 10m grid.\n#| warning: false\n\n# Data: volcano is provided by plotly\n\n# Plot\np <- plot_ly(z = volcano, type = \"surface\")\np \n```\n\n### Viz 3\n\nHere is an example showing the distribution of the night price of AirBnB appartements in the south of France. Price range is divided per 10 euros interval. For example, there are slightly less than 750 appartements with a night price between 100 and 110 euros:\n\n```{r}\n# Load dataset from github\ndata <- read.table(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/1_OneNum.csv\", header=TRUE)\n\nsummary(data)\n```\n\nsource: [holtzy/data_to_viz](https://github.com/holtzy/data_to_viz.git \"https://github.com/holtzy/data_to_viz.git\")\n\nNow on the basis of this we can plot a histogram to see how often a particular price occurs in the dataset (while ignoring the outliers) [@fig-hist].\n\n```{r}\n#| label: fig-hist\n#| fig-cap: Frequency count to check bnbs avaiable at different price points in South of France\n#| warning: false\n\n# Plotting the dataset\np <- data %>%\n  filter( (price >= 69) & (price <= 172) ) %>% # Let's keep it between the 1st and                                                # 3rd quartile \n  ggplot( aes(x=price)) +\n    geom_histogram( binwidth=10, fill=\"#69b3a2\", color=\"#e9ecef\", alpha=0.9) +\n    ggtitle(\"Bin size = 10\") +\n    theme_ipsum() +\n    theme(\n      plot.title = element_text(size=15)\n    )\nggplotly(p)\n```\n\n### Viz 4\n\nPie Chart is also something which is very useful to show per cent of the whole. In the visualization below (@fig-pie ) we create a Mock Dataset with labels: `Massachusetts`, `New york`, `California`, and `Texas`.\n\n```{r}\n#| label: fig-pie\n#| fig-cap: Pie Chart showing percentage of each category\n#| warning: false\n\n#Creating the Dataset\nx <- c(59, 62, 58, 282)\nlabels <-  c(\"Massachusetts\",\"New York\",\"Calfornia\",\"Texas\")\n\n#Calculation Percentage\npiepercent<- round(100*x/sum(x), 1) # Round up is a good practice as it helps in                                       # keeping the significance level constant                                          # throughout a project\n\n# Plotting the chart\npie(\n  x,\n  labels = piepercent,\n  main = \"City pie chart\",\n  col = rainbow(length(x))\n  )\n# Specifying the legend\nlegend(\n  \"topright\", \n  c(\"Massachusetts\",\"New York\",\"Calfornia\",\"Texas\"),\n  cex = 0.8,\n  fill = rainbow(length(x))\n  )\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"Visualizations.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.37","editor":"visual","theme":"cosmo","title":"Visualizations","author":"Ravina Banze"},"extensions":{"book":{"multiFile":true}}}}}